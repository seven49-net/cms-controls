var navigation={extractLanguage:function(e){e=void 0===e||null===e?"de":e;var n=location.pathname,a;return a="/"===n?e:n.indexOf("/_temp/")>-1?n.substr(7,2):n.substr(1,2)},removeFirstPageEqualToCategory:function(e){$(e).children("li").each(function(){if($(this).children("ul").length){var e=$(this).children("a").text(),n=$(this).children("ul").children("li:first-child").children("a").text();e===n&&$(this).children("ul").children("li:first-child").remove()}})},getUrlID:function(){var e=location.pathname;return e.split("/").pop().split(".").shift()},testPath:function(e){for(var n=["sitemap.htm","login-check.htm","login.htm","profile.htm"],a=0,t=0,i=n.length;i>t;t++)-1===e.indexOf(n[t])&&(a+=1);return a===n.length?!0:!1},getMainCategory:function(){var e=window.location.pathname,n=null;if(navigation.testPath(e)){var a=e.split("/");a.shift(),n=e.indexOf("/_temp/")>-1?a[2]:a[1]}return n},getUrlSegmentsAndLength:function(){var e=window.location.pathname,n=null,a=0;return navigation.testPath(e)&&(n=e.split("/"),n.shift(),e.indexOf("/_temp/")>-1?(n=n.splice(0,2),a=n.length):(n.shift(),a=n.length)),[n,a]},current:function(e){var n=$.extend({urlID:navigation.getUrlID(),currentClass:"selected",container:".MainNavigation",defaultCategory:".item1.category"},e),a=navigation.getMainCategory(),t=navigation.getUrlSegmentsAndLength()[0],i=navigation.getUrlSegmentsAndLength()[1];if(null!==a){var l=$(n.container).find(".item_"+a);if(l.addClass(n.currentClass),null!==t&&i>=2){for(var r=0,s=i-1;s>r;r++)l.find(".item_"+t[r]).addClass(n.currentClass);l.find(".item_"+n.urlID).addClass(n.currentClass)}}else null!==n.defaultCategory&&$(n.container).find(n.defaultCategory).addClass(n.currentClass)},mainNavigation:function(e){var n=$.extend({urlID:navigation.getUrlID(),container:".MainNavigation",container2:".root",defaultLanguage:"de",removeMainFirstEqualItem:!0,rootClass:"root",onlyOneSubLevel:!1,legacyHover:!1,megaPanel:!1,megaPanelClass:"MegaPanel",currentClass:"selected",subNavigation:!1,subContainer:".TreeNavigation",subClass:"sub-level",subShowMainCategory:!0,emptyMainContentNav:!1,emptyContainerClass:"ContentSubNav",emptySelector:".ObjectsCountNull",mobileMenu:!1,mobileContainer:"#mobileMenu",mobileHideSubLevel:!0,mobileCurrentClass:"selected",mobileCustomElements:!1,mobilLanguageSelection:!1,mobileLanguagePrepend:!0,crumbs:!1,crumbsContainer:".breadcrumbs",languageNavigation:!1,languageContainer:".LanguageSelection",languageNoWrap:!1},e),a=this.extractLanguage(n.defaultLanguage);$.ajax({url:"/sitemap/"+a+".htm",success:function(e){var a=$(e);$(a).find(".selected").removeClass("selected"),n.removeMainFirstEqualItem&&$(a).children("li").each(function(){if($(this).children("ul").length){var e=$(this).children("a").text(),n=$(this).children("ul").children("li:first-child").children("a").text();e===n&&$(this).children("ul").children("li:first-child").remove()}}),n.megaPanel&&$(a).children("li").each(function(){$(this).children("ul").length&&$(this).children("ul").wrap('<div class="'+n.megaPanelClass+'"></div>')}),$(n.container).append("<ul class='"+n.rootClass+"'>"+$(a).html()+"</ul>"),navigation.current({urlID:n.urlID,container:n.container,currentClass:n.currentClass}),n.onlyOneSubLevel&&$(n.container).find("ul ul ul").remove(),n.legacyHover&&navigation.legacyHover(n.container),n.subNavigation&&navigation.subNavigation(e,{urlID:n.urlID,container:n.subContainer,currentClass:n.currentClass,subClass:n.subClass,showMainCategory:n.subShowMainCategory}),n.emptyMainContentNav&&navigation.emptyMainContentNavigation(e,{urlID:n.urlID,containerClass:n.emptyContainerClass,selector:n.emptySelector}),n.mobileMenu&&navigation.mobileMenu(e,{urlID:n.urlID,container:n.mobileContainer,currentClass:n.mobileCurrentClass,customElements:n.mobileCustomElements,hideSubLevel:n.mobileHideSubLevel,languageSelection:n.mobileLanguageSelection,languagePrepend:n.mobileLanguagePrepend}),n.crumbs&&navigation.breadcrumbs(e,{container:n.crumbsContainer}),n.languageNavigation&&navigation.languageNavigation(e,{urlID:n.urlID,container:n.languageContainer,noWrap:n.languageNoWrap})}})},subNavigation:function(e,n){var a=$.extend({urlID:navigation.getUrlID(),container:".TreeNavigation",currentClass:"selected",noSubNavClass:"no-sub-nav",emptyClass:"empty-sub-nav",rootClass:"sub-level",showMainCategory:!0,showRootParentLink:!0},n),t=a.urlID,i=$(e);navigation.removeFirstPageEqualToCategory(i);var l=null,r=navigation.getMainCategory();null!==r&&i.find("li.item_"+r+" li").length&&(l=$(i).find("li.category.item_"+r)[0].outerHTML),null!==l?(l=a.showMainCategory?'<ul class="'+a.rootClass+'">'+l+"</ul>":$(l).children("ul")[0].outerHTML,$(a.container).append(l),$(a.container).find(".item_"+t).length?$(a.container).find(".item_"+t).addClass(a.currentClass):$(a.container).find(".firstpage_"+t).length&&$(a.container).find(".firstpage_"+t).addClass(a.currentClass),$(a.container).find("."+a.currentClass).parents("li").addClass(a.currentClass),a.showRootParentLink||$(a.container).find("li.category."+a.currentClass+"> a").remove(),$(a.container).find("li."+a.currentClass).children("a").addClass(a.currentClass)):($(a.container).addClass(a.emptyClass),$("body").addClass(a.noSubNavClass))},mobileMenu:function(e,n){var a=$.extend({urlID:navigation.getUrlID(),container:"#mobileMenu",currentClass:"selected",customElements:!1,hideSubLevel:!0,languageSelection:!1,languagePrepend:!0},n),t=$(e);if(a.customElements)for(var i=a.customElements.split("||"),l=0;l<i.length;l++)$(t).append(i[l]);if(a.hideSubLevel&&(t.find("li.multichild").length&&(t.find("li.multichild > ul").hide(),$('<span class="open-close-button closed">+</span>').insertAfter(t.find("li.multichild>a"))),t.find("li.parent").length&&(t.find("li.parent > ul").hide(),$('<span class="open-close-button closed">+</span>').insertAfter(t.find("li.parent>a")))),t.find(".selected").removeClass("selected"),$(a.container).append('<ul class="mobile-nav">'+t.html()+"</ul>"),a.languageSelection){var r=$('<div class="mobile-language-selection"></div>');a.languagePrepend?$(a.container).prepend(r):$(a.container).append(r),navigation.languageNavigation(e,{container:a.container+" .mobile-language-selection",urlID:a.urlID})}navigation.current({urlID:a.urlID,currentClass:a.currentClass,container:a.container}),$(".open-close-button").click(function(){$(this).siblings("ul").slideToggle(),$(this).parent("li").toggleClass("open"),$(this).hasClass("closed")?$(this).removeClass("closed").text("-"):$(this).addClass("closed").text("+")})},breadcrumbs:function(e,n){var a=$.extend({urlID:navigation.getUrlID(),container:".breadcrumbs",prependHome:!1,currentClass:"current"},n),t=$(e),i=[],l=a.urlID,r;if(a.prependHome){var s=$(t).find("li.category.item1");r="<li class='"+$(s).attr("class")+" crumbs0 crumb home-prepended'><a href='"+$(s).children("a").attr("href")+"'>"+$(s).children("a").text()+"</a></li>"}var o=navigation.getMainCategory(),u=window.location.pathname,c=[],g=0;navigation.testPath(u)&&(c=u.split("/"),c.shift(),u.indexOf("/_temp/")>-1?(c=c.splice(0,2),g=c.length):(c.shift(),g=c.length));var d=null;if(null!==o&&g>=2){if(d=$(t).find(".category.item_"+o),d.hasClass("firstpage_"+l)&&d.hasClass("item_"+o))i.push('<li class="'+d.attr("class")+" crumbs1 crumb last "+a.currentClass+'"><a href="'+d.children("a").attr("href")+'">'+d.children("a").text()+"</a></li>");else{for(var h=0,m=g-1;m>h;h++){var v=0===h?d:d.find(".item_"+c[h]);i.push('<li class="'+v.attr("class")+" crumb crumbs"+(h+1)+'"><a href="'+v.children("a").attr("href")+'">'+v.children("a").text()+"</a></li>")}var f=d.find(".item_"+l);i.push('<li class="'+f.attr("class")+" last crumb crumbs"+g+" "+a.currentClass+'"><a href="'+f.children("a").attr("href")+'">'+f.children("a").text()+"</a></li>")}a.prependHome&&i.unshift(r),i.length>=1&&a.prependHome===!1||a.prependHome===!0?(i.unshift("<ul>"),i.push("</ul>")):i=[],$(a.container).append(i.join(""))}},languageNavigation:function(e,n){var a=$.extend({urlID:navigation.getUrlID(),container:".LanguageSelection",currentClass:"selected",noWrap:!1,prepend:!1},n),t=a.urlID,i=navigation.extractLanguage(),l=$(a.container),r=$(e).find("li.item1.category");$(e).find("li.item_"+t).not(".category").length?r=$(e).find("li.item_"+t).parents(".category"):$(e).find("li.firstpage_"+t).length&&(r=$(e).find("li.firstpage_"+t)),$.getJSON("/sitemap/languages.json",function(e){for(var n=[],t=0;t<e.length;t++){var s=e[t].IsoCode2,o=e[t].Title,u;u=i===s?"<li class='lang-"+s+" "+a.currentClass+"'><a href='"+r.children("a").attr("href")+"'>"+o+"</a></li>":"<li class='lang-"+s+"'><a href='"+r.children("a").attr("data-rel-"+s)+"'>"+o+"</a></li>",n.push(u)}n.length>1&&(n=a.noWrap?n.join(""):"<ul>"+n.join("")+"</ul>",a.prepend?l.prepend(n):l.append(n))})},legacyHover:function(e){$(e+" > ul > li").hover(function(){$(this).find("ul").css({visibility:"visible",display:"block"})},function(){$(this).find("ul").css({visibility:"hidden",display:"none"})})},emptyMainContentNavigation:function(e,n){var a=$.extend({urlID:navigation.getUrlID(),containerClass:"ContentSubNav",selector:".ObjectsCountNull"},n),t=$(a.selector),i=a.urlID;t.length>0&&$(e).find("ul li.item_"+i+" ul").length>0&&t.children().after("<div class='"+a.containerClass+"'><ul>"+$(e).find("ul li.item_"+i+" ul").html()+"</ul></div>")}};