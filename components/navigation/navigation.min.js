var navigation={extractLanguage:function(e){e=void 0===e||null===e?"de":e;var n=location.pathname,t;return t="/"===n?e:n.indexOf("/_temp/")>-1?n.substr(7,2):n.substr(1,2)},removeFirstPageEqualToCategory:function(e){$(e).children("li").each(function(){if($(this).children("ul").length){$(this).children("a").text()===$(this).children("ul").children("li:first-child").children("a").text()&&$(this).children("ul").children("li:first-child").remove()}})},getUrlID:function(){return location.pathname.split("/").pop().split(".").shift()},testPath:function(e){for(var n=["sitemap.htm","login-check.htm","login.htm","profile.htm","search.htm"],t=0,a=0,i=n.length;a<i;a++)-1===e.indexOf(n[a])&&(t+=1);return t===n.length},getMainCategory:function(){var e=window.location.pathname,n=null;if(navigation.testPath(e)){var t=e.split("/");t.shift(),n=e.indexOf("/_temp/")>-1?t[2]:t[1]}return n},getUrlSegmentsAndLength:function(){var e=window.location.pathname,n=null,t=0;return navigation.testPath(e)&&(n=e.split("/"),n.shift(),e.indexOf("/_temp/")>-1?(n=n.splice(0,2),t=n.length):(n.shift(),t=n.length)),[n,t]},current:function(e){var n=$.extend({urlID:navigation.getUrlID(),currentClass:"selected",container:".MainNavigation",defaultCategory:".item1.category"},e),t=navigation.getMainCategory(),a=navigation.getUrlSegmentsAndLength()[0],i=navigation.getUrlSegmentsAndLength()[1];if(null!==t){var l=$(n.container).find(".item_"+t+".category");if(l.addClass(n.currentClass),null!==a&&i>=2){a.shift();for(var r=0,s=i-1;r<s;r++){var o=r===s-1?n.urlID:a[r];l.find(".item_"+o).addClass(n.currentClass)}}}else null!==n.defaultCategory&&$(n.container).find(n.defaultCategory).addClass(n.currentClass)},mainNavigation:function(e){var n=$.extend({urlID:navigation.getUrlID(),container:".MainNavigation",container2:".root",defaultLanguage:"de",removeMainFirstEqualItem:!1,rootClass:"root",onlyCategories:!1,onlyOneSubLevel:!1,legacyHover:!1,megaPanel:!1,megaPanelClass:"MegaPanel",currentClass:"selected",subNavigation:!1,subContainer:".TreeNavigation",subClass:"sub-level",subShowMainCategory:!0,emptyMainContentNav:!1,emptyContainerClass:"ContentSubNav",emptySelector:".ObjectsCountNull",mobileMenu:!1,mobileContainer:"#mobileMenu",mobileHideSubLevel:!0,mobileCurrentClass:"selected",mobileCustomElements:!1,mobileLanguageSelection:!1,mobileLanguagePrepend:!0,mobileOpen:"+",mobileClose:"-",crumbs:!1,crumbsContainer:".breadcrumbs",languageNavigation:!1,languageContainer:".LanguageSelection",languageNoWrap:!1,languageSelectedFirst:!1,emptyMainContentNavigationExtended:!1,emptyMainContentNavigationExtendedFilePath:null,emptyMainContentNavigationExtendedUppercase:!1,emptyMainContentNavigationExtendedFileExtension:"jpg"},e),t=this.extractLanguage(n.defaultLanguage);$.ajax({url:"/sitemap/"+t+".htm",success:function(e){var t=$(e);$(t).find(".selected").removeClass("selected"),n.removeMainFirstEqualItem&&$(t).children("li").each(function(){if($(this).children("ul").length){$(this).children("a").text()===$(this).children("ul").children("li:first-child").children("a").text()&&$(this).children("ul").children("li:first-child").remove()}}),n.megaPanel&&$(t).children("li").each(function(){$(this).children("ul").length&&$(this).children("ul").wrap('<div class="'+n.megaPanelClass+'"></div>')}),$(n.container).append("<ul class='"+n.rootClass+"'>"+$(t).html()+"</ul>"),navigation.current({urlID:n.urlID,container:n.container,currentClass:n.currentClass}),n.onlyOneSubLevel&&$(n.container).find("ul ul ul").remove(),n.onlyCategories&&$(n.container).find("ul ul").remove(),n.legacyHover&&navigation.legacyHover(n.container),n.subNavigation&&navigation.subNavigation(e,{urlID:n.urlID,container:n.subContainer,currentClass:n.currentClass,subClass:n.subClass,showMainCategory:n.subShowMainCategory}),n.emptyMainContentNav&&navigation.emptyMainContentNavigation(e,{urlID:n.urlID,containerClass:n.emptyContainerClass,selector:n.emptySelector}),n.mobileMenu&&navigation.mobileMenu(e,{urlID:n.urlID,container:n.mobileContainer,currentClass:n.mobileCurrentClass,customElements:n.mobileCustomElements,hideSubLevel:n.mobileHideSubLevel,languageSelection:n.mobileLanguageSelection,languagePrepend:n.mobileLanguagePrepend,open:n.mobileOpen,close:n.mobileClose}),n.crumbs&&navigation.breadcrumbs(e,{container:n.crumbsContainer}),n.languageNavigation&&navigation.languageNavigation(e,{urlID:n.urlID,container:n.languageContainer,noWrap:n.languageNoWrap,selectedFirst:n.languageSelectedFirst}),n.emptyMainContentNavigationExtended&&navigation.emptyMainContentNavigationExtended(e,{filePath:n.emptyMainContentNavigationExtendedFilePath,uppercase:n.emptyMainContentNavigationExtendedUppercase,fileExtension:n.emptyMainContentNavigationExtendedFileExtension})}})},subNavigation:function(e,n){var t=$.extend({urlID:navigation.getUrlID(),container:".TreeNavigation",currentClass:"selected",noSubNavClass:"no-sub-nav",emptyClass:"empty-sub-nav",rootClass:"sub-level",showMainCategory:!0,showRootParentLink:!0},n),a=t.urlID,i=$(e),l=null,r=navigation.getMainCategory();null!==r&&i.find("li.item_"+r+" li").length&&(l=$(i).find("li.category.item_"+r)[0].outerHTML),null!==l?(l=t.showMainCategory?'<ul class="'+t.rootClass+'">'+l+"</ul>":$(l).children("ul")[0].outerHTML,$(t.container).append(l),navigation.current({urlID:a,container:t.container,currentClass:t.currentClass}),t.showRootParentLink||$(t.container).find("li.category."+t.currentClass+"> a").remove(),$(t.container).find("li."+t.currentClass).children("a").addClass(t.currentClass)):($(t.container).addClass(t.emptyClass),$("body").addClass(t.noSubNavClass))},mobileMenu:function(e,n){var t=$.extend({urlID:navigation.getUrlID(),container:"#mobileMenu",currentClass:"selected",open:"+",close:"-",customElements:!1,hideSubLevel:!0,languageSelection:!1,languagePrepend:!0},n),a=$(e);if(t.customElements)for(var i=t.customElements.split("||"),l=0;l<i.length;l++)$(a).append(i[l]);if(t.hideSubLevel&&(a.find("li.multichild").length&&(a.find("li.multichild > ul").hide(),$('<span class="open-close-button closed">'+t.open+"</span>").insertAfter(a.find("li.multichild>a"))),a.find("li.parent").length&&(a.find("li.parent > ul").hide(),$('<span class="open-close-button closed">'+t.open+"</span>").insertAfter(a.find("li.parent>a")))),a.find(".selected").removeClass("selected"),$(t.container).append('<ul class="mobile-nav">'+a.html()+"</ul>"),t.languageSelection){var r=$('<div class="mobile-language-selection"></div>');t.languagePrepend?$(t.container).prepend(r):$(t.container).append(r),navigation.languageNavigation(e,{container:t.container+" .mobile-language-selection",urlID:t.urlID})}navigation.current({urlID:t.urlID,currentClass:t.currentClass,container:t.container}),$(".open-close-button").click(function(){$(this).siblings("ul").slideToggle(),$(this).parent("li").toggleClass("open"),$(this).hasClass("closed")?$(this).removeClass("closed").html(t.close):$(this).addClass("closed").html(t.open)})},breadcrumbs:function(e,n){var t=$.extend({urlID:navigation.getUrlID(),container:".breadcrumbs",prependHome:!1,currentClass:"current"},n),a=$(e),i=[],l=t.urlID,r;if(t.prependHome){var s=$(a).find("li.category.item1");r="<li class='"+$(s).attr("class")+" crumbs0 crumb home-prepended'><a href='"+$(s).children("a").attr("href")+"'>"+$(s).children("a").text()+"</a></li>"}var o=navigation.getMainCategory(),u=window.location.pathname,c=[],g=0;navigation.testPath(u)&&(c=u.split("/"),c.shift(),u.indexOf("/_temp/")>-1?(c=c.splice(0,2),g=c.length):(c.shift(),g=c.length));var d=null;if(null!==o&&g>=2){if(d=$(a).find(".category.item_"+o),d.hasClass("firstpage_"+l)&&d.hasClass("item_"+o))i.push('<li class="'+d.attr("class")+" crumbs1 crumb last "+t.currentClass+'"><a href="'+d.children("a").attr("href")+'">'+d.children("a").text()+"</a></li>");else{for(var h=0,m=g-1;h<m;h++){var v=0===h?d:d.find(".item_"+c[h]);v=0===h?d:d.find(".item_"+c[h]).length?d.find(".item_"+c[h]):null,null!==v&&i.push('<li class="'+v.attr("class")+" crumb crumbs"+(h+1)+'"><a href="'+v.children("a").attr("href")+'">'+v.children("a").text()+"</a></li>")}var p=d.find(".item_"+l).length?d.find(".item_"+l):null;null!==p&&i.push('<li class="'+p.attr("class")+" last crumb crumbs"+g+" "+t.currentClass+'"><a href="'+p.children("a").attr("href")+'">'+p.children("a").text()+"</a></li>")}t.prependHome&&i.unshift(r),i.length>=1&&!1===t.prependHome||!0===t.prependHome?(i.unshift("<ul>"),i.push("</ul>")):i=[],$(t.container).append(i.join(""))}},languageNavigation:function(e,n){var t=$.extend({urlID:navigation.getUrlID(),container:".LanguageSelection",currentClass:"selected",noWrap:!1,prepend:!1,selectedFirst:!1},n),a=navigation.extractLanguage(),i=$(t.container),l=$(e).find("li.item1.category"),r=navigation.getMainCategory();$.getJSON("/sitemap/languages.json",function(n){var s=[];null!==r&&(l=$(e).find(".category.item_"+r));for(var o=0,u=n.length;o<u;o++){var c=n[o].IsoCode2,g=n[o].Title,d;d=a===c?"<li class='lang-"+c+" "+t.currentClass+"'><a href='"+l.children("a").attr("href")+"'>"+g+"</a></li>":"<li class='lang-"+c+"'><a href='"+l.children("a").attr("data-rel-"+c)+"'>"+g+"</a></li>",t.selectedFirst&&a===c?s.unshift(d):s.push(d)}s.length>1&&(s=t.noWrap?s.join(""):"<ul>"+s.join("")+"</ul>",t.prepend?i.prepend(s):i.append(s))})},legacyHover:function(e){$(e+" > ul > li").hover(function(){$(this).find("ul").css({visibility:"visible",display:"block"})},function(){$(this).find("ul").css({visibility:"hidden",display:"none"})})},emptyMainContentNavigation:function(e,n){var t=$.extend({urlID:navigation.getUrlID(),containerClass:"ContentSubNav",selector:".ObjectsCountNull",emptyMainContentNavigation:!1,itemClass:"Item"},n),a=navigation.getMainCategory();if(null!==a){var i=$(t.selector),l=t.urlID;if(i.length>0&&$(e).find(".category.item_"+a+" li.item_"+l+" ul").length>0){var r=$(e).find(".category.item_"+a+" li.item_"+l+" ul"),s=[];r.children("li").each(function(e){var n=$(this).children("a");s.push('<li class="'+t.itemClass+" "+t.itemClass+(e+1)+'"><a href="'+n.attr("href")+'">'+n.text()+"</a></li>")}),i.children().after("<div class='"+t.containerClass+"'><ul>"+s.join("")+"</ul></div>")}}},emptyMainContentNavigationExtended:function(e,n){var t=$.extend({urlID:navigation.getUrlID(),containerClass:"ContentSubNav",selector:".ObjectsCountNull",filePath:null,uppercase:!1,fileExtension:"jpg"},n),a=navigation.getMainCategory();if(null!==a&&null!==t.filePath){var i=$(t.selector),l=t.urlID;if(i.length>0&&$(e).find(".category.item_"+a+" li.item_"+l+" ul").length>0){var r=[];$(e).find(".category.item_"+a+" li.item_"+l+" ul").children("li").each(function(e){var n=$(this).children("a").attr("href"),a=$(this).children("a").text(),i=n.split("/").pop().split(".")[0],l="item";t.uppercase&&(i=i.toUpperCase(),l="Item"),r.push("<li class='"+l+" "+l+(e+1)+"'><a href='"+n+"'><img src='"+t.filePath+i+"."+t.fileExtension+"' alt='"+a+"' /></a></li>")}),i.children().after("<div class='"+t.containerClass+"'><ul>"+r.join("")+"</ul></div>")}}}};